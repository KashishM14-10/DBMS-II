UNSET- REMOVE field
rename-rename a field {old:"newname"}
mul-multiplication
deleteOne- no condition fist record delete 
& deleteMany-delete document
exists-true or false -delete misssing field
upsert-condition is not match to insert
upsert-true
updatene badle insert thay usertcount increse

Capped Collection:- fixed size collection that stores documents (fifo-circcular queue)
capped-true,size:byte(500),
max:<maximum ducment>(3)
if 4 insert first remove and 4 insert

[{ "_id": 1, "name": "John", "age": 30, city: "New York", isActive: true },
{ "_id": 2, "name": "Jane", "age": 25, city: "Los Angeles", isActive: false },
{ "_id": 3, "name": "Tom", "age": 35, city: "Chicago", isActive: true },
{ "_id": 4, "name": "Lucy", "age": 28, city: "San Francisco", isActive: true },
{ "_id": 5, "name": "David", "age": 40, city: "Miami", isActive: false },
{ "_id": 6, "name": "Eva", "age": 23, city: "Boston", isActive: true },
{ "_id": 7, "name": "Nick", "age": 38, city: "Seattle", isActive: false },
{ "_id": 8, "name": "Sophia", "age": 27, city: "New York", isActive: true },
{ "_id": 9, "name": "Liam", "age": 32, city: "Los Angeles", isActive: false },
{ "_id": 10, "name": "Olivia", "age": 29, city: "San Diego", isActive: true }]
Part – A (Use collection “Student” created in Lab-9)

1. Update the age of John's to 31.
db.Student.updateOne({name:"John"},{$set:{age:31}})

2. Update the city of all students from 'New York' to 'New Jersey'.
db.Student.updateMany({city:'New York'},{$set: {city:"New Jersey"}})

3. Set isActive to false for every student older than 35.
db.Student.updateMany({age:{$gt:35}},{$set:{isActive:false}})

4. Increment the age of all students by 1 year.
db.Student.updateMany({},{$inc:{age:1}})

5. Set the city of 'Eva' to 'Cambridge'.
db.Student.updateMany({name:"Eva"},{$set:{city:"Cambridge"}})

6. Update 'Sophia's isActive status to false.
db.Student.updateMany({name:"Sophia"},{$set:{isActive:false}})

7. Update the city field of student aged below 30 to 'San Diego'.
db.Student.updateMany({age:{$lt:30}},{$set:{city:"San Diego"}})

8. Rename the age field to years for all documents.
db.Student.updateMany({},{$rename:{age:"years"}})

9. Update 'Nick' to make him active (isActive = true).
db.Student.updateMany({name:"Nick"},{$set:{isActive:true}})

10. Update all documents to add a new field country with the value 'USA'.
db.Student.updateMany({},{$set:{Country:"USA"}})

11. Update 'David's city to 'Orlando'.
db.Student.updateMany({name:"David"},{$set:{city:'Orlando'}})

12. Multiply the age of all students by 2.
db.Student.updateMany({},{$mul:{age:2}})

13. Unset (remove) the city field for 'Tom'.
db.Student.updateMany({name:"Tom"},{$unset:{city:""}})

14. Add a new field premiumUser and make it to true for users older than 30.
db.Student.updateMany({age:{$gt:30}},{$set:premiumUser :true}})
15. Set isActive to true for 'Jane'.
db.Student.updateMany({name:"Jane"},{$set:{isActive:true}})

16. Update isActive field of 'Lucy' to false.
db.Student.updateMany({name:"Lucy"},{$set:{isActive:false}})

17. Delete a document of 'Nick' from the collection.
db.Student.deleteMany({name:"Nick"})
18. Delete all students who are inactive (isActive = false).
db.Student.deleteMany({isActive:false})
19. Delete all students who live in 'New York'.
db.Student.deleteMany({city:"New YORK"})

20. Delete all the students aged above 35.
db.Student.deleteMany({age:{$gt:35}})

21. Delete a student named ''Olivia'' from the student collection.
db.Student.deleteMany({city:"Los Angeles"})

22. Delete all the students whose age is below 25.
db.Student.deleteMany({age:{$lt:25}})
23. Delete the first student whose isActive field is true.

24. Delete all students from 'Los Angeles'.
db.Student.deleteMany({city:"Los Angeles"})

25. Delete all students who have city field missing.
db.Student.deleteMany({city:{$exists:false}})

26. Rename 'city' field to 'location' for all documents.
db.Student.updateMany({},{$rename:{city:"location"}})

27. Rename the name field to FullName for 'John'.
db.Student.updateMany({name:"John"},{$rename:{name:"Fullname"}})

28. Rename the isActive field to status for all documents.
db.Student.updateMany({},{$rename:{iSActive:"Status"}})

29. Rename age to yearsOld for everyone from 'San Francisco' student only.
db.Student.updateMany({city:'San Francisco' },{$rename:{age:"yearsOld"}})

30. Create a Capped Collection named “Employee” which allows maximum 3 documents:
db.createCollection("Employee",{capped:true,size:500,max:3})

Part-B
 MongoDB queries for Student_data collection

 1. Display Female students who belong to Rajkot city
db.student_data.find({ GENDER: "Female", CITY: "Rajkot" })

 2. Display students not studying in 3rd sem
db.student_data.find({ SEM: { $ne: 3 } })

 3. Display students whose city is Jamnagar or Baroda (IN)
db.student_data.find({ CITY: { $in: ["Jamnagar", "Baroda"] } })

 4. Display first 2 students’ names who live in Baroda
db.student_data.find({ CITY: "Baroda" }, { SNAME: 1, _id: 0 }).limit(2)

 5. Display Male students studying in 3rd sem
db.student_data.find({ GENDER: "Male", SEM: 3 })

 6. Display sname, city, fees where rollno < 105
db.student_data.find({ ROLLNO: { $lt: 105 } }, { SNAME: 1, CITY: 1, FEES: 1, _id: 0 })

 7. Update City to Surat where City = Jamnagar and Department = CE
db.student_data.updateMany({ CITY: "Jamnagar", DEPARTMENT: "CE" }, { $set: { CITY: "Surat" } })

 8. Increase Fees by 500 where Gender is NOT Female
db.student_data.updateMany({ GENDER: { $ne: "Female" } }, { $inc: { FEES: 500 } })

 9. Set Department to Electrical where Department = EE and Sem = 3
db.student_data.updateMany({ DEPARTMENT: "EE", SEM: 3 }, { $set: { DEPARTMENT: "Electrical" } })

 10. Update Fees to 15000 for Male students from Rajkot
db.student_data.updateMany({ CITY: "Rajkot", GENDER: "Male" }, { $set: { FEES: 15000 } })

 11. Change City to Vadodara where Sem = 5 and Fees < 10000
db.student_data.updateMany({ SEM: 5, FEES: { $lt: 10000 } }, { $set: { CITY: "Vadodara" } })

 12. Delete students where City = Ahmedabad OR Gender = Male
db.student_data.deleteMany({ $or: [ { CITY: "Ahmedabad" }, { GENDER: "Male" } ] })

 13. Delete students whose Rollno NOT IN [101, 105, 110]
db.student_data.deleteMany({ ROLLNO: { $nin: [101, 105, 110] } })

 14. Delete Civil students in Sem 5 or Sem 7
db.student_data.deleteMany({ DEPARTMENT: "Civil", SEM: { $in: [5, 7] } })

 15. Delete students NOT from Rajkot, Baroda, Jamnagar
db.student_data.deleteMany({ CITY: { $nin: ["Rajkot", "Baroda", "Jamnagar"] } })

 16. Delete students whose Rollno is between 105 and 108
db.student_data.deleteMany({ ROLLNO: { $gte: 105, $lte: 108 } })

 17. Rename City field to LOCATION (all students)
db.student_data.updateMany({}, { $rename: { CITY: "LOCATION" } })

 18. Rename Department to Branch where Fees < 10000
db.student_data.updateMany({ FEES: { $lt: 10000 } }, { $rename: { DEPARTMENT: "Branch" } })

 19. Rename Sname to Fullname for Rollno IN [106, 107, 108]
db.student_data.updateMany({ ROLLNO: { $in: [106, 107, 108] } }, { $rename: { SNAME: "Fullname" } })

 20. Rename Fees to Tuition_Fees where Fees > 9000
db.student_data.updateMany({ FEES: { $gt: 9000 } }, { $rename: { FEES: "Tuition_Fees" } })

 21. Rename Department to Major where Fees < 15000 and Gender = Female
db.student_data.updateMany({ FEES: { $lt: 15000 }, GENDER: "Female" }, { $rename: { DEPARTMENT: "Major" } })

 22. Rename City to Hometown where Sem = 3 and Department ≠ Mechanical
db.student_data.updateMany({ SEM: 3, DEPARTMENT: { $ne: "Mechanical" } }, { $rename: { CITY: "Hometown" } })

  
Part – C
1.1. Create a capped collection named” logs” with a maximum size of 100 KB and a maximum of 10 documents.
db.createCollection("logs", {
  capped: true,
  size: 100 * 1024,  s
  max: 10            
})


2.
db.logs.insertMany([
{ message: "System reboot", level: "info", timestamp: new Date() },
{ message: "Error in module", level: "error", timestamp: new Date() },
{ message: "Memory usage high", level: "warning", timestamp: new Date() },
{ message: "User logout", level: "info", timestamp: new Date() },
{ message: "File uploaded", level: "info", timestamp: new Date() },
{ message: "Network error", level: "error", timestamp: new Date() },
{ message: "Backup completed", level: "info", timestamp: new Date() },
{ message: "Database error", level: "error", timestamp: new Date() },
{ message: "Service started", level: "info", timestamp: new Date() }
])


3. Find last 10 documents in logs (assuming capped collection for retention)
db.logs.find().sort({ timestamp: -1 }).limit(10)


 4. Insert 5 new log entries
db.logs.insertMany([
{ message: "New log entry 1", level: "info", timestamp: new Date() },
{ message: "New log entry 2", level: "info", timestamp: new Date() },
{ message: "New log entry 3", level: "info", timestamp: new Date() },
{ message: "New log entry 4", level: "warning", timestamp: new Date() },
{ message: "New log entry 5", level: "error", timestamp: new Date() }
])

Verify only last 10 logs are retained
db.logs.find().sort({ timestamp: -1 }).limit(10)